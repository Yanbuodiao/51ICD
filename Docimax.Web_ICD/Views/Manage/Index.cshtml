@using Docimax.Interface_ICD.Enum
@model Docimax.Web_ICD.Models.IndexViewModel
@{
    ViewBag.Title = "个人信息管理";
}

<h2>@ViewBag.Title</h2>
<p class="text-success">@ViewBag.StatusMessage</p>
<div>
    <h4>更改你的账户设置</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>密码:</dt>
        <dd>
            [
            @if (Model.HasPassword)
            {
                @Html.ActionLink("更改密码", "ChangePassword")
            }
            else
            {
                @Html.ActionLink("创建", "SetPassword")
            }
            ]
        </dd>
        <dt>手机认证:</dt>
        <dd>
            @(Model.PhoneNumber ?? "未认证") [
            @if (Model.PhoneNumber != null)
            {
                @Html.ActionLink("更改", "AddPhoneNumber")
            }
            else
            {
                @Html.ActionLink("去认证", "AddPhoneNumber")
            }
            ]
        </dd>
        <dt>身份及银行卡认证:</dt>
        <dd>
            @switch (Model.CertificationFlag)
            {
                case CertificateState.未认证:
                default:
                    @Html.ActionLink("发起认证申请", "VerifyIdentity", routeValues: null)
                    break;
                case CertificateState.发起认证申请:
                case CertificateState.平台人员一次审核通过:
                case CertificateState.平台人员二次审核通过:
                @: 平台已收到申请，最多两个工作日认证完成，请耐心等候...;
                    break;
                case CertificateState.认证成功:
                @: 已认证
                    break;
                case CertificateState.平台人员一次审核失败:
                case CertificateState.认证失败:
                @: 未通过认证|&nbsp;@Html.ActionLink("发起认证申请", "VerifyIdentity", routeValues: null);
                    break;
            }
        </dd>
        @if (Model.CertificationFlag == CertificateState.认证成功)
        {
            <dt>服务认证:</dt>
            <dd>
                @if (Model.Services != null && Model.Services.Count > 0)
                {
                    foreach (var item in Model.Services)
                    {
                    <dd>
                        @item.ServiceName ------ @item.CertificateStatus
                    </dd>
                    }
                }
                <dd>[@Html.ActionLink("申请开通更多服务", "ServiceApply", "Service")]</dd>
                </dd>
        }
    </dl>
</div>
