@model Docimax.Web_ICD.Models.RegisterViewModel
@using (Html.BeginForm("ModalRegister", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()

    <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel">加入51icd</h4>
    </div>
    <div class="modal-body">
        @Html.ValidationSummary("", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(m => m.Email, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(m => m.HosipitalName, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.TextBoxFor(m => m.HosipitalName, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(m => m.Password, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-md-2 control-label" })
            <div class="col-md-10">
                @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-6 col-md-10">
                <input id="btnModalRegister" type="submit" class="btn btn-primary" value="注册" style="width:175px;" />
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <p>
            已有账号？<a id="btnModalLogin" style="cursor:pointer;">登录</a>
        </p>
    </div>
    if (Model != null && Model.NeedVarify)
    {
        <div class="form-group">
            @{Html.RenderAction("Index", "VerificationCode");}
        </div>

    }
    <script type="text/javascript">
        $('#btnModalLogin').click(function () {
            $.ajax({
                url: '@Url.Action("ModalLogin", "Account")',
                datatype: "text",
                type: "get",
                data: {
                    returnUrl: window.location.href
                },
                success: function (loginView) {
                    $('#LoginModalView').html(loginView);
                }
            });
        });
    </script>
}
@Scripts.Render("~/bundles/jqueryval")

